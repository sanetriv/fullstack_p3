{"version":3,"sources":["components/Person.js","components/Output.js","components/Addperson.js","components/Search.js","services/people.js","components/Notification.js","App.js","index.js"],"names":["Person","props","person","name","number","onClick","deletePerson","id","Output","people","map","Addperson","onSubmit","addPerson","value","newName","onChange","handleNameChange","newNumber","handleNumberChange","type","Search","newSearch","handleSearchChange","baseUrl","axios","get","then","response","data","newPerson","post","put","delete","Notification","message","errorMessage","includes","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","App","useState","persons","setPersons","setNewName","setNewNumber","setNewSearch","setMessage","useEffect","peopleService","returnedPeople","peopleToShow","filter","toUpperCase","updateNumber","note","find","n","changedPerson","returnedPerson","setTimeout","catch","error","event","console","log","target","preventDefault","window","confirm","alert","personObject","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f7965ec2.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Person = (props) => {\r\n    return(\r\n        <div>\r\n            {props.person.name} {props.person.number}  \r\n            <button onClick={()=>props.deletePerson(props.person.id)}>delete</button>\r\n        </div>\r\n    )\r\n}\r\n//<form onSubmit={()=>props.deletePerson(props.person.id)}>\r\n//<p key={props.person.name}>{props.person.name} {props.person.number}</p>\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Output = (props) => {\r\n    return (\r\n        <div>\r\n            {props.people.map(person => \r\n                <Person \r\n                    key={person.name}\r\n                    person={person}\r\n                    deletePerson={props.deletePerson}\r\n                />\r\n            )}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Output","import React from 'react'\r\n\r\nconst Addperson = (props) => {\r\n    return (\r\n        <form onSubmit={props.addPerson}>\r\n            <div>\r\n                name: <input value={props.newName} onChange={props.handleNameChange}/>\r\n            </div>\r\n            <div>\r\n                number: <input value={props.newNumber} onChange={props.handleNumberChange}/>\r\n            </div>\r\n            <div>\r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Addperson","import React from \"react\"\r\n\r\nconst Search = (props) => {\r\n    return (\r\n        <div>\r\n          filter shown with <input value={props.newSearch} onChange={props.handleSearchChange}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Search","import axios from 'axios'\r\nconst baseUrl = '/api/persons'\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newPerson => {\r\n    const request = axios.post(baseUrl, newPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newPerson) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newPerson)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n    return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nexport default { getAll, create, update, deletePerson }","import React from \"react\"\r\n\r\nconst Notification = ({message, errorMessage}) => {\r\n    const successStyle={\r\n        color: 'green',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n    const errorStyle={\r\n        color: 'red',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 10,\r\n        marginBottom: 10\r\n    }\r\n    \r\n    if (message === null) {\r\n      return null\r\n    }\r\n\r\n    if (message.includes('already deleted')){\r\n        return (\r\n        <div style={errorStyle}>\r\n            {message}\r\n        </div>\r\n        )\r\n    }else{\r\n        return (\r\n        <div style={successStyle}>\r\n            {message}\r\n        </div>\r\n        ) \r\n    }\r\n  }\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Output from './components/Output'\nimport Addperson from './components/Addperson'\nimport Search from './components/Search'\nimport peopleService from './services/people'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newSearch, setNewSearch ] = useState('')\n  const [message, setMessage] = useState(null)\n\n  useEffect(() => {\n    peopleService\n      .getAll()\n      .then(returnedPeople => {\n        setPersons(returnedPeople)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n    if (persons.find(person => person.name===newName)){\n      //window.alert(`${newName} is already in the phonebook`)\n      //return\n      if (window.confirm(`Do you want to update the number for ${newName}`)){\n        updateNumber(persons.find(person=>person.name===newName).id)\n        return\n      }else{\n        window.alert(`${newName} is already in the phonebook`)\n        return\n      }\n    }\n    const personObject = {\n      name: newName,\n      number: newNumber,\n    }\n    \n    peopleService\n    .create(personObject)\n    .then(returnedPerson => {\n      setPersons(persons.concat(returnedPerson))\n      setNewName('')\n      setNewNumber('')\n      setMessage(\n        `${personObject.name} added successfully!`\n      )\n      setTimeout(() => {\n        setMessage(null)\n      }, 3000)\n    })\n  }\n\n  const peopleToShow = persons.filter(person => person.name.toUpperCase().includes(newSearch.toUpperCase())) \n \n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchChange = (event) => {\n    console.log(event.target.value)\n    setNewSearch(event.target.value)\n  }\n\n  const deletePerson = (id) => {\n    if (window.confirm(`Do you want to delete ${persons.find(person=>person.id===id).name}?`)){\n      peopleService\n        .deletePerson(id)\n        //.then(response => {\n      setPersons(persons.filter(person => person.id !== id))\n        //})\n    }\n  }\n\n  const updateNumber = (id) => {\n    const note = persons.find(n => n.id === id)\n    const changedPerson = { ...note, number: newNumber }\n    peopleService\n      .update(id, changedPerson)\n      .then(returnedPerson => {\n        setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n        setMessage(\n          `Number updated for ${note.name}`\n        )\n        setTimeout(() => {\n          setMessage(null)\n        }, 3000)\n      })\n      .catch(error => {\n        setMessage(\n          `${note.name} was already deleted from the server`\n        )\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000)\n        setPersons(persons.filter(n => n.id !== id))\n      })\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message}/>\n      <Search newSearch={newSearch} handleSearchChange={handleSearchChange} />\n      <h3>Add new</h3>\n      <Addperson\n        addPerson={addPerson}\n        newName={newName}\n        newNumber={newNumber}\n        handleNameChange={handleNameChange}\n        handleNumberChange={handleNumberChange}\n      />\n      <h3>Numbers</h3>\n      <Output people={peopleToShow} deletePerson={deletePerson}/>\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App.js'\nimport './index.css'\n\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)"],"sourceRoot":""}